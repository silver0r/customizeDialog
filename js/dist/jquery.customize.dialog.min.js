/*   v1.0.0 MIT license (c) 2017 silver0r */
!function(t){"use strict";"undefined"==typeof contextPath&&(window.contextPath=""),"function"==typeof define&&define.amd?define(["jquery","underscore"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("_")):t(jQuery,_)}(function(t,e){"use strict";function o(e){this.defaults={template:"/template/common/dialog.html",message:"",type:"info",checkText:"확인",checkButtonId:"btn_dialog_check01",cancelText:"취소",cancelButtonId:"btn_dialog_cancel01",textAlign:"center",enableIcon:!0},this.options=t.extend({},this.defaults,e),this.type=i;var o=t.Deferred();return this.init(o),o.promise()}var n=null,i={info:"info",confirm:"confirm"};o.prototype.init=function(e){var o=this;null===n&&t.get(this.options.template).done(function(t){o._magnificPopup(e,t)}).fail(function(){alert(o.options.message)})},o.prototype._magnificPopup=function(o,n){var i=this,c=e.template(n)({type:this.type,options:this.options});t.magnificPopup.open({alignTop:!1,modal:!0,items:{src:c,type:"inline"},callbacks:{open:function(){i._event(o)}}})},o.prototype._event=function(e){var o=this;t("#"+this.options.checkButtonId).on("click.customizeDialog",function(){e.resolve(!0),o._eventOff(),t.magnificPopup.close()}),this.options.type===this.type.confirm&&t("#"+this.options.cancelButtonId).on("click.customizeDialog",function(){e.resolve(!1),o._eventOff(),t.magnificPopup.close()})},o.prototype._eventOff=function(){t("#"+this.options.checkButtonId).off(".customizeDialog"),this.options.type===this.type.confirm&&t("#"+this.options.cancelButtonId).off(".customizeDialog"),n=null},t.customizeDialog=function(t){return n=new o(t)}});